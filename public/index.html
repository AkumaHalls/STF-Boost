<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Controle - STF Steam Boost</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="control-panel">
        <header>
            <h1>STF Steam Boost</h1>
        </header>

        <div class="accounts-table">
            <table>
                <thead>
                    <tr>
                        <th>Usuário</th>
                        <th>Status</th>
                        <th>Tempo Restante</th>
                        <th>Iniciar/Parar</th>
                        <th>Steam Guard</th>
                        <th>Jogos</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>minha-conta-steam</td>
                        <td class="status-stopped">Parado</td>
                        <td>Ilimitado</td>
                        <td><button id="startButton" class="start-btn">Iniciar</button></td>
                        <td><button class="enter-btn">Inserir</button></td>
                        <td><button class="manage-btn">Gerir</button></td>
                        <td><button class="settings-btn">Configurações</button></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <footer>
            <p><a href="#">[ Junte-se ao nosso Discord ]</a></p>
        </footer>
    </div>

    <script>
        // 1. Encontrar o botão "Iniciar" na página pelo seu id
        const startButton = document.getElementById('startButton');

        // 2. Adicionar um "ouvinte" que espera por um clique no botão
        startButton.addEventListener('click', () => {
            console.log('Botão Iniciar clicado!');
            alert('A enviar pedido para iniciar o boost...');

            // 3. Usar a API 'fetch' para enviar um pedido para a nova rota /start no nosso servidor
            fetch('/start', {
                method: 'POST' // Usamos o método POST para indicar que estamos a criar/iniciar algo
            })
            .then(response => response.json())
            .then(data => {
                console.log('Resposta do servidor:', data);
                alert(data.message); // Mostra a mensagem de resposta do servidor
            })
            .catch(error => {
                console.error('Erro ao contactar o servidor:', error);
                alert('Ocorreu um erro ao tentar iniciar o boost.');
            });
        });
    </script>
    </body>
</html>
